import{h as a,q as e,r as t,c as l,w as s,i as c,o as A,a as r,d as u,t as o,u as i,N as d,O as f,L as g,m as Q,D as m,E as C}from"./index-CXRbaKsi.js";import{_ as p}from"./uni-nav-bar.pIin5XDL.js";import{_ as I,o as E,r as n}from"./uni-app.es.4GHwWxH-.js";import{_ as k}from"./uni-rate.TWM__6Fq.js";import{u as v}from"./orderStore.Cgi5Rf7z.js";import{f as B}from"./formatDate.D4VB2pb0.js";import{f as y}from"./formatPrice.BUD-VLoc.js";import{r as S}from"./index.TDGrnhG4.js";import"./uni-icons.CASMTA-H.js";const j=I({__name:"apply-order",setup(I){const j=v(),R=a(),D=e((()=>R.value.price*j.totalDays)),J=e((()=>.05*D.value)),b=e((()=>.06*D.value)),x=e((()=>D.value+J.value+b.value));E((()=>{R.value=j.roomData}));const H=()=>{d()},V=async()=>{f({title:"生成订单中",mask:!0});const a=await S.post("/order",{},{totalPrice:x.value,startDate:j.startTime,endDate:j.endTime,totalRestNight:j.totalDays,listId:j.roomData.id});j.orderMessage=a.order,g({url:"/subPackages/order/confirm-pay/confirm-pay?"})};return(a,e)=>{const d=n(t("uni-nav-bar"),p),f=Q,g=c,I=n(t("uni-rate"),k),E=m,v=C;return A(),l(g,{class:"apply-order"},{default:s((()=>[r(d,{dark:"",fixed:!0,"background-color":"#c5b6a0","status-bar":"","left-icon":"left","left-text":"返回",title:"预定申请",onClickLeft:H}),r(g,{class:"header bar"},{default:s((()=>[r(g,{class:"part1"},{default:s((()=>[r(f,{class:"img",src:R.value.imgUrl[0],mode:"scaleToFill"},null,8,["src"]),r(g,{class:"text"},{default:s((()=>[r(g,{class:"part1-title"},{default:s((()=>[u(o(R.value.location),1)])),_:1}),r(g,{class:"desc"},{default:s((()=>[u(o(R.value.description),1)])),_:1}),r(g,{class:"score"},{default:s((()=>[r(I,{value:"1",max:"1","active-color":"#000",readonly:"true"}),r(E,null,{default:s((()=>[u(o(R.value.score)+" 超赞房东√",1)])),_:1})])),_:1})])),_:1})])),_:1}),r(g,{class:"part2"},{default:s((()=>[r(g,{class:"text"},{default:s((()=>[u("24小时内可免费取消订单。请注意！！！订单支付后，无法取消订单。")])),_:1}),r(f,{src:"data:image/png;base64,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",mode:"aspectFill"})])),_:1})])),_:1}),r(g,{class:"trip-message bar"},{default:s((()=>[r(g,{class:"title"},{default:s((()=>[u("您的行程")])),_:1}),r(g,{class:"date"},{default:s((()=>[r(g,{class:"part"},{default:s((()=>[r(g,{class:"tag"},{default:s((()=>[u("日期")])),_:1}),r(g,{class:"content"},{default:s((()=>[u(o(i(B)(i(j).startTime))+"至"+o(i(B)(i(j).endTime)),1)])),_:1})])),_:1}),r(g,{class:"part"},{default:s((()=>[r(g,{class:"tag"},{default:s((()=>[u("房客")])),_:1}),r(g,{class:"content"},{default:s((()=>[u("一位房客")])),_:1})])),_:1})])),_:1})])),_:1}),r(g,{class:"price-detail bar"},{default:s((()=>[r(g,{class:"title"},{default:s((()=>[u("价格详情")])),_:1}),r(g,{class:"item"},{default:s((()=>[r(g,{class:"key"},{default:s((()=>[u("￥"+o(i(y)(R.value.price))+" × "+o(i(j).totalDays)+"晚",1)])),_:1}),r(g,{class:"value"},{default:s((()=>[u("共计：￥"+o(i(y)(D.value)),1)])),_:1})])),_:1}),r(g,{class:"item"},{default:s((()=>[r(g,{class:"key"},{default:s((()=>[u("寻栖服务费")])),_:1}),r(g,{class:"value"},{default:s((()=>[u("共计：￥"+o(i(y)(J.value)),1)])),_:1})])),_:1}),r(g,{class:"item"},{default:s((()=>[r(g,{class:"key"},{default:s((()=>[u("税费")])),_:1}),r(g,{class:"value"},{default:s((()=>[u("共计：￥"+o(i(y)(b.value)),1)])),_:1})])),_:1}),r(g,{class:"item end"},{default:s((()=>[r(g,{class:"key"},{default:s((()=>[u("总计")])),_:1}),r(g,{class:"value"},{default:s((()=>[u("￥"+o(i(y)(x.value)),1)])),_:1})])),_:1})])),_:1}),r(g,{class:"base-rule bar"},{default:s((()=>[r(g,{class:"title"},{default:s((()=>[u("基本规则")])),_:1}),r(g,{class:"desc"},{default:s((()=>[u("请每位房客留意遵守几个简单要求，做一名优秀的房⁠客。")])),_:1}),r(g,{class:"list"},{default:s((()=>[r(g,{class:"item"},{default:s((()=>[u("· 遵守入住须知")])),_:1}),r(g,{class:"item"},{default:s((()=>[u(". 像对待自己的家一样对待房东的房源")])),_:1})])),_:1})])),_:1}),r(g,{class:"confirm-order bar"},{default:s((()=>[r(g,{class:"remind"},{default:s((()=>[u("点击下方按钮即代表您同意房东的入住须知、房客基本规则、 寻栖重新预订和退款政策，且如果我对损坏负有责任，寻栖可以从我的付款方式中扣款。")])),_:1}),r(g,null,{default:s((()=>[r(v,{class:"order-btn",type:"default",onClick:V},{default:s((()=>[u("确认订单")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-3ce1c932"]]);export{j as default};
