{"version":3,"file":"edit-user-message.js","sources":["pages/edit-user-message/edit-user-message.vue","D:/download/HBuilderX.4.15.2024050802/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZWRpdC11c2VyLW1lc3NhZ2UvZWRpdC11c2VyLW1lc3NhZ2UudnVl"],"sourcesContent":["<template>\n\t<view class=\"edit-message\">\n\t\t<!-- 导航栏 -->\r\n\t\t<uni-nav-bar\r\n\t\t  dark\r\n\t\t  :fixed=\"true\"\r\n\t\t  shadow\r\n\t\t  background-color=\"#c5b6a0\"\r\n\t\t  status-bar\r\n\t\t  left-icon=\"left\"\r\n\t\t  left-text=\"返回\"\r\n\t\t  title=\"编辑个人信息\"\r\n\t\t  @clickLeft=\"handleBack\"\r\n\t\t/>\r\n\t\t<view class=\"content\">\r\n\t\t\t<uni-forms ref=\"form\" :rules=\"formRules\" :modelValue=\"formData\">\r\n\t\t\t\t<uni-forms-item label=\"电话\" name=\"phoneNumber\">\r\n\t\t\t\t\t<uni-easyinput type=\"number\" v-model=\"formData.phoneNumber\"/>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<uni-forms-item label=\"邮箱\" name=\"email\">\r\n\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.email\"/>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<uni-forms-item label=\"个人介绍\" name=\"introduce\">\r\n\t\t\t\t\t<uni-easyinput type=\"textarea\" v-model=\"formData.introduce\"/>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<button class=\"form-btn\" type=\"default\" @click=\"handleSubmit\">提交</button>\r\n\t\t\t</uni-forms>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { reactive, ref } from 'vue';\nimport { useUserStore } from '../../store/userStore';\n\r\nconst form = ref()\r\nconst formRules = {\r\n\tintroduce: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\tmaxLength: 40,\r\n\t\t\t\terrorMessage: '简介长度不超过40字'\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tphoneNumber: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\tvalidateFunction: function (rule,value,data,callback) {\r\n\t\t\t\t\tconsole.log(value);\r\n\t\t\t\t  const reg = /^1[3-9]\\d{9}$/;\r\n\t\t\t\t  if (!reg.test(value)) {\r\n\t\t\t\t\t\tcallback('电话格式不正确，请重新输入')\r\n\t\t\t\t    return false;\r\n\t\t\t\t  }\r\n\t\t\t\t  return true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\temail: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\tvalidateFunction: function (rule,value,data,callback) {\r\n\t\t\t\t\tconsole.log(value);\r\n\t\t\t\t  const reg = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n\t\t\t\t  if (!reg.test(value)) {\r\n\t\t\t\t\t\tcallback('邮箱格式不正确，请重新输入')\r\n\t\t\t\t    return false;\r\n\t\t\t\t  }\r\n\t\t\t\t  return true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n}\r\nconst userStore = useUserStore()\r\n\r\nconst formData = reactive({\r\n\tphoneNumber: userStore.phoneNumber,\r\n\temail: userStore.email,\r\n\tintroduce: userStore.introduce\r\n})\r\n\r\n// 处理提交事件\r\nconst handleSubmit = () => {\r\n\tform.value.validate().then(res => {\r\n\t\tuserStore.updateUserData(formData)\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '修改信息成功'\r\n\t\t})\r\n\t\tuni.navigateBack()\r\n\t}).catch(err => {\r\n\t\tconsole.log(err);\r\n\t})\r\n}\r\n\r\nconst handleBack = () => {\r\n\tuni.navigateBack()\r\n}\r\n\n</script>\n\n<style scoped lang=\"scss\">\r\n\t\r\n.edit-message {\r\n\theight: 100vh;\r\n\tpadding: 0 40rpx;\r\n\tbackground: linear-gradient(to right, #c5b6a0, #fde9cf, #c5b6a0);\r\n\tfont-family: '本墨绪圆';\r\n\t.content {\r\n\t\tmargin-top: 50rpx;\r\n\t\t.form-btn {\r\n\t\t\tmargin-top: 300rpx;\r\n\t\t\tborder-radius: 100rpx;\r\n\t\t\tbackground-color: #afa18f;\r\n\t\t\theight: 80rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t}\r\n}\n\t       \n</style>\n","import MiniProgramPage from 'E:/project_all/uni-app/seekstay/pages/edit-user-message/edit-user-message.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","useUserStore","reactive"],"mappings":";;;;;;;;;;;;;;;;;;;;AAmCA,UAAM,OAAOA,cAAAA,IAAK;AAClB,UAAM,YAAY;AAAA,MACjB,WAAW;AAAA,QACV,OAAO;AAAA,UACN;AAAA,YACC,WAAW;AAAA,YACX,cAAc;AAAA,UACd;AAAA,QACD;AAAA,MACD;AAAA,MACD,aAAa;AAAA,QACZ,OAAO;AAAA,UACN;AAAA,YACC,kBAAkB,SAAU,MAAK,OAAM,MAAK,UAAU;AACrDC,4BAAAA,MAAY,MAAA,OAAA,uDAAA,KAAK;AAChB,oBAAM,MAAM;AACZ,kBAAI,CAAC,IAAI,KAAK,KAAK,GAAG;AACtB,yBAAS,eAAe;AACtB,uBAAO;AAAA,cACR;AACD,qBAAO;AAAA,YACR;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,MACD,OAAO;AAAA,QACN,OAAO;AAAA,UACN;AAAA,YACC,kBAAkB,SAAU,MAAK,OAAM,MAAK,UAAU;AACrDA,4BAAAA,MAAY,MAAA,OAAA,uDAAA,KAAK;AAChB,oBAAM,MAAM;AACZ,kBAAI,CAAC,IAAI,KAAK,KAAK,GAAG;AACtB,yBAAS,eAAe;AACtB,uBAAO;AAAA,cACR;AACD,qBAAO;AAAA,YACR;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,IACF;AACA,UAAM,YAAYC,gBAAAA,aAAc;AAEhC,UAAM,WAAWC,cAAAA,SAAS;AAAA,MACzB,aAAa,UAAU;AAAA,MACvB,OAAO,UAAU;AAAA,MACjB,WAAW,UAAU;AAAA,IACtB,CAAC;AAGD,UAAM,eAAe,MAAM;AAC1B,WAAK,MAAM,WAAW,KAAK,SAAO;AACjC,kBAAU,eAAe,QAAQ;AACjCF,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,QACV,CAAG;AACDA,sBAAAA,MAAI,aAAc;AAAA,MACpB,CAAE,EAAE,MAAM,SAAO;AACfA,sBAAAA,MAAY,MAAA,OAAA,uDAAA,GAAG;AAAA,MACjB,CAAE;AAAA,IACF;AAEA,UAAM,aAAa,MAAM;AACxBA,oBAAAA,MAAI,aAAc;AAAA,IACnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClGA,GAAG,WAAW,eAAe;"}